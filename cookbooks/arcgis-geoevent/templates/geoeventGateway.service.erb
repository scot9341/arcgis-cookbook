
# ------------------------------------------------------------------
# GeoEvent Gateway systemd unit file
# ------------------------------------------------------------------
#
# Configure GeoEvent Gateway to be started with the operating system by
# following these instructions:
#
# 1) Switch to the root user.
#
# 2) Copy this file to /etc/systemd/system
#
# 3) Enable the GeoEvent Gateway service to be started with the operating
#    system:
#
#     # systemctl enable geoeventgateway.service
#
# 4) Verify the systemd service is setup correctly:
#
#    # systemctl stop geoeventGateway.service
#    # systemctl start geoeventGateway.service
#    # systemctl status geoeventGateway.service
#
# 5) Reboot the system and verify that GeoEvent Gateway restarts properly.
#
# ------------------------------------------------------------------

[Unit]
Description=ArcGIS GeoEvent Gateway
After=network.target arcgisserver.service

[Service]
Type=forking
User=<%=@agsuser%>
GuessMainPID=false
ExecStart=<%=@agshome%>/GeoEvent/gateway/bin/ArcGISGeoEventGateway-service start
ExecReload=<%=@agshome%>/GeoEvent/gateway/bin/ArcGISGeoEventGateway-service restart
ExecStop=<%=@agshome%>/GeoEvent/gateway/bin/ArcGISGeoEventGateway-service stop

[Install]
Alias=ArcGISGeoEventGateway
WantedBy=multi-user.target
